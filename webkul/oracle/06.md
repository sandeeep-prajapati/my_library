# üîÑ Oracle Data Type Mapping for Connectors

Oracle connectors (JDBC, Kafka, Debezium, ETL tools) **map Oracle data types to the client/application types**. If mismatched, you‚Äôll see errors or data loss.

---

## 1Ô∏è‚É£ NUMBER

| Oracle Type              | Connector / Java Type                                 | Notes / Pitfalls                |
| ------------------------ | ----------------------------------------------------- | ------------------------------- |
| NUMBER(p,s)              | `BigDecimal` (Java), `Decimal` (.NET), `float64` (Go) | Preserves precision             |
| NUMBER(10,0)             | `Integer` or `Long`                                   | Overflow risk for large numbers |
| NUMBER without precision | `BigDecimal`                                          | Always safest                   |

**‚ö†Ô∏è Pitfalls**

* Implicit conversion may truncate decimals
* Big numbers ‚Üí overflow if mapped to `int`/`long`

---

## 2Ô∏è‚É£ VARCHAR2 / CHAR

| Oracle Type | Connector Type   | Notes                                     |
| ----------- | ---------------- | ----------------------------------------- |
| VARCHAR2(n) | String / varchar | Normal mapping                            |
| CHAR(n)     | String, padded   | May contain trailing spaces ‚Üí trim in app |

**‚ö†Ô∏è Pitfalls**

* Fixed-length CHAR may cause extra spaces
* Unicode issues if NLS settings mismatch

---

## 3Ô∏è‚É£ CLOB (Character Large Object)

| Oracle Type | Connector Type               | Notes                      |
| ----------- | ---------------------------- | -------------------------- |
| CLOB        | `String` / `Reader` / `Text` | Usually read via streaming |
| NCLOB       | `NString`                    | Unicode-safe variant       |

**‚ö†Ô∏è Pitfalls**

* Loading full CLOB into memory ‚Üí OutOfMemoryError
* Streaming required for large text (>1 MB)
* Truncation if fetch size is small

---

## 4Ô∏è‚É£ BLOB (Binary Large Object)

| Oracle Type | Connector Type           | Notes                      |
| ----------- | ------------------------ | -------------------------- |
| BLOB        | `byte[]` / `InputStream` | Binary safe                |
| RAW         | `byte[]`                 | Small binary (<2000 bytes) |

**‚ö†Ô∏è Pitfalls**

* Large BLOB ‚Üí memory issues
* Must use streaming (`getBinaryStream`) for big files
* Watch for encoding mismatches if storing images/audio

---

## 5Ô∏è‚É£ DATE

| Oracle Type | Connector Type                             | Notes                                       |
| ----------- | ------------------------------------------ | ------------------------------------------- |
| DATE        | `java.sql.Date` / `LocalDate` / `datetime` | Oracle DATE = date + time (1 sec precision) |
| TIMESTAMP   | `java.sql.Timestamp`                       | Preserves fractional seconds                |

**‚ö†Ô∏è Pitfalls**

* Oracle DATE includes **time**, but `java.sql.Date` may drop time ‚Üí use `Timestamp`
* Timezone issues ‚Üí always standardize or use `TIMESTAMP WITH TIME ZONE`

---

## 6Ô∏è‚É£ TIMESTAMP / TIMESTAMP WITH TIME ZONE

| Oracle Type              | Connector Type                     | Notes                              |
| ------------------------ | ---------------------------------- | ---------------------------------- |
| TIMESTAMP                | `java.sql.Timestamp`               | High precision, fractional seconds |
| TIMESTAMP WITH TIME ZONE | `OffsetDateTime` / `ZonedDateTime` | Preserves timezone                 |

**‚ö†Ô∏è Pitfalls**

* Timezone conversions may cause data shifts
* Not all connectors preserve fractional seconds by default

---

## 7Ô∏è‚É£ XMLTYPE

| Oracle Type              | Connector Type               | Notes                              |
| ------------------------ | ---------------------------- | ---------------------------------- |
| XMLTYPE                  | `String` / `SQLXML` / `Clob` | Often accessed as CLOB or stream   |
| XMLTYPE (Binary Storage) | InputStream                  | Depends on connector configuration |

**‚ö†Ô∏è Pitfalls**

* Reading as string ‚Üí memory-heavy for large XML
* May need XQuery for extraction instead of full load
* Connector may require explicit XML handling (`getSQLXML()`)

---

## üîß General Pitfalls Across Connectors

1. **Implicit conversion**

   * NUMBER ‚Üí Integer may truncate
   * DATE ‚Üí LocalDate may drop time

2. **Large objects**

   * BLOB/CLOB memory overhead
   * Always stream for >1 MB

3. **Encoding & Timezone**

   * NCHAR/NCLOB ‚Üí Unicode
   * TIMESTAMP WITH TIME ZONE ‚Üí beware server vs JVM timezone

4. **Null vs Empty**

   * Empty string `''` ‚Üí null in Oracle (older versions)
   * Connector may treat differently

5. **Batch operations**

   * Large CLOB/BLOB ‚Üí can fail in batch inserts unless `streaming` is used

---

## üß† Interview-Friendly One-Liner

> ‚ÄúOracle connectors map NUMBER ‚Üí BigDecimal, CLOB ‚Üí Reader/String, BLOB ‚Üí InputStream, DATE ‚Üí Timestamp, TIMESTAMP WITH TIME ZONE ‚Üí OffsetDateTime, XMLTYPE ‚Üí SQLXML/String. Pitfalls include memory issues for LOBs, precision loss for numbers, and timezone/encoding mismatches.‚Äù

