
```bash
php artisan vendor:publish --tag=migrations
```

---

## ğŸ¯ Goal:

* Create one or more migration files inside your package.
* Register them in your service provider.
* Allow users to publish them using `vendor:publish`.

---

## ğŸ› ï¸ Step-by-Step Guide

---

### ğŸ“ 1. Create Migrations Directory in Your Package

```bash
mkdir -p packages/sandeep/mytools/database/migrations
```

---

### âœï¸ 2. Create a Migration File

Example: create a simple `tools` table.

```bash
touch packages/sandeep/mytools/database/migrations/2024_01_01_000000_create_tools_table.php
```

#### `create_tools_table.php`

```php
<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    public function up(): void
    {
        Schema::create('tools', function (Blueprint $table) {
            $table->id();
            $table->string('name');
            $table->timestamps();
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('tools');
    }
};
```

---

### âš™ï¸ 3. Register Migrations in Service Provider

Update `MyToolsServiceProvider.php`:

```php
public function boot()
{
    // Other publishing/registering

    // Load migrations automatically
    $this->loadMigrationsFrom(__DIR__.'/../database/migrations');

    // Allow publishing migrations manually (optional)
    $this->publishes([
        __DIR__.'/../database/migrations' => database_path('migrations'),
    ], 'mytools-migrations');
}
```

---

### ğŸ“¤ 4. Publish the Migration (Optional)

```bash
php artisan vendor:publish --tag=mytools-migrations
```

ğŸ“ This copies your migration(s) to:

```
database/migrations/2024_01_01_000000_create_tools_table.php
```

---

### âœ… 5. Run the Migration

Whether published or not, you can now run:

```bash
php artisan migrate
```

âœ… Output:

```
Migrating: 2024_01_01_000000_create_tools_table
Migrated:  2024_01_01_000000_create_tools_table
```

---

## âœ… Summary

| âœ… Task                                   | Description                                     |
| ---------------------------------------- | ----------------------------------------------- |
| `database/migrations`                    | Contains your package migrations                |
| `loadMigrationsFrom()`                   | Auto-loads without needing to publish           |
| `publishes([...], 'mytools-migrations')` | Allows publishing via artisan                   |
| `php artisan migrate`                    | Works directly from package or after publishing |

---

### ğŸ§  Bonus Tip:

You can also provide multiple migrations, factories, or seeders inside the package â€” Laravel will auto-load them if you use `loadMigrationsFrom()`.

---
