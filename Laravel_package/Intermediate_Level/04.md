
---

## âœ… Prompt 9:

**Use Laravelâ€™s container binding** to bind **interfaces** to **concrete implementations** inside your package.

---

## ğŸ¯ Goal:

* Create an interface (e.g., `GreeterInterface`)
* Create a class implementing it (e.g., `DefaultGreeter`)
* Bind them in the service container
* Resolve them anywhere in the Laravel app (or inside the package)

---

## ğŸ› ï¸ Step-by-Step Guide

---

### ğŸ“ 1. Create Interface and Implementation

Create the directory structure:

```bash
mkdir -p packages/sandeep/mytools/src/Contracts
mkdir -p packages/sandeep/mytools/src/Services
```

---

#### âœï¸ `Contracts/GreeterInterface.php`

```php
<?php

namespace Sandeep\MyTools\Contracts;

interface GreeterInterface
{
    public function greet(string $name): string;
}
```

---

#### âœï¸ `Services/DefaultGreeter.php`

```php
<?php

namespace Sandeep\MyTools\Services;

use Sandeep\MyTools\Contracts\GreeterInterface;

class DefaultGreeter implements GreeterInterface
{
    public function greet(string $name): string
    {
        $prefix = config('mytools.greeting_prefix', 'Hello');
        return "$prefix, $name! (via interface)";
    }
}
```

---

### âš™ï¸ 2. Bind Interface to Implementation in the Service Provider

In your `MyToolsServiceProvider.php`, inside the `register()` method:

```php
use Sandeep\MyTools\Contracts\GreeterInterface;
use Sandeep\MyTools\Services\DefaultGreeter;

public function register()
{
    $this->mergeConfigFrom(
        __DIR__.'/../config/mytools.php', 'mytools'
    );

    // Bind facade accessor
    $this->app->singleton('mytools', function () {
        return new \Sandeep\MyTools\MyTools;
    });

    // âœ… Bind interface to concrete class
    $this->app->bind(GreeterInterface::class, DefaultGreeter::class);

    // Load helper
    if (file_exists(__DIR__.'/helpers.php')) {
        require_once __DIR__.'/helpers.php';
    }
}
```

---

### ğŸ§ª 3. Use Interface in Laravel App or in the Package

#### Example Controller:

```php
use Sandeep\MyTools\Contracts\GreeterInterface;

Route::get('/interface-greet/{name}', function (GreeterInterface $greeter, $name) {
    return $greeter->greet($name);
});
```

Visit:

```
http://localhost:8000/interface-greet/Sandeep
```

âœ… Output:

```
Hello, Sandeep! (via interface)
```

> Or `Namaste, Sandeep! (via interface)` if config changed.

---

## âœ… Summary

| âœ… Step               | Description                                  |
| -------------------- | -------------------------------------------- |
| `GreeterInterface`   | Defines the abstraction                      |
| `DefaultGreeter`     | Implements the interface                     |
| `app->bind()`        | Binds interface to implementation            |
| Dependency Injection | Laravel auto-resolves it in controller/route |

---

### ğŸ§  Bonus Tip:

Later you can switch implementation (e.g., for SaaS users or testing):

```php
$this->app->bind(GreeterInterface::class, PremiumGreeter::class);
```

---
