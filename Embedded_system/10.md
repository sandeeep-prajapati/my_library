Here is a simple example of a CLI tool in C that simulates reading a sensor value from a device file (like `/dev/sensor0`) and logs the reading to a log file named `sensor_log.txt`.

---

### âœ… Features:

* Reads data from `/dev/sensor0`
* Logs it with a timestamp into `sensor_log.txt`
* Can be compiled and run on Linux

---

### ðŸ“¦ Prerequisites:

For simulation, you can create a dummy `/dev/sensor0` file:

```bash
echo 25 > /dev/sensor0  # Requires root permission or use a different test file like ./sensor0
```

---

### ðŸ“„ C Code (`sensor_logger.c`):

```c
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <time.h>

#define SENSOR_PATH "/dev/sensor0"
#define LOG_FILE "sensor_log.txt"
#define BUFFER_SIZE 128

void log_sensor_value(const char* sensor_path, const char* log_file) {
    FILE *sensor = fopen(sensor_path, "r");
    if (!sensor) {
        perror("Error opening sensor device");
        return;
    }

    char sensor_value[BUFFER_SIZE];
    if (!fgets(sensor_value, BUFFER_SIZE, sensor)) {
        perror("Error reading from sensor");
        fclose(sensor);
        return;
    }
    fclose(sensor);

    // Remove newline character if any
    sensor_value[strcspn(sensor_value, "\n")] = 0;

    FILE *log = fopen(log_file, "a");
    if (!log) {
        perror("Error opening log file");
        return;
    }

    // Get current timestamp
    time_t now = time(NULL);
    char* timestamp = ctime(&now);
    timestamp[strcspn(timestamp, "\n")] = 0;  // remove newline

    fprintf(log, "[%s] Sensor Value: %s\n", timestamp, sensor_value);
    fclose(log);

    printf("Logged sensor value: %s\n", sensor_value);
}

int main(int argc, char* argv[]) {
    const char* device_path = (argc > 1) ? argv[1] : SENSOR_PATH;
    log_sensor_value(device_path, LOG_FILE);
    return 0;
}
```

---

### ðŸ§ª Compile and Run:

```bash
gcc sensor_logger.c -o sensor_logger
sudo ./sensor_logger            # Uses /dev/sensor0
./sensor_logger ./sensor0.txt   # Uses custom file
```

---

### ðŸ§¾ Sample Output in `sensor_log.txt`:

```
[Sun Aug 03 14:22:01 2025] Sensor Value: 25
```

---
