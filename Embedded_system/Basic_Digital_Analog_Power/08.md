### ✅ **What is an H-Bridge Circuit?**

An **H-Bridge** is an electronic circuit that allows a **DC motor** to be driven **forward, backward, or stopped**, by controlling the **polarity** of the voltage applied to the motor.

---

### 🔧 **Basic H-Bridge Configuration:**

It consists of **4 switches/transistors** (Q1–Q4) arranged in an H-shape:

```
     +Vcc
      |
     [Q1]    [Q2]
      |        |
      +---MOTOR---+
      |        |
     [Q3]    [Q4]
      |        |
     GND      GND
```

---

### ⚙️ **Operating Modes:**

| Q1 | Q2 | Q3 | Q4 | Motor Direction |
| -- | -- | -- | -- | --------------- |
| 1  | 0  | 0  | 1  | Forward         |
| 0  | 1  | 1  | 0  | Reverse         |
| 0  | 0  | 0  | 0  | Stop (coast)    |
| 1  | 1  | 0  | 0  | Brake           |

> Only one diagonal pair (Q1+Q4 or Q2+Q3) should be ON at a time to avoid a **short circuit**.

---

## ✅ **C Code for Driving DC Motor Using H-Bridge**

Assuming you're using an **AVR microcontroller** (like ATmega328P) with 4 digital output pins:

### 🔌 **Pin Mapping:**

* Q1: `PORTD0`
* Q2: `PORTD1`
* Q3: `PORTD2`
* Q4: `PORTD3`

### 🧾 **Example Code:**

```c
#define F_CPU 16000000UL
#include <avr/io.h>
#include <util/delay.h>

// Define motor control pins
#define Q1 PD0
#define Q2 PD1
#define Q3 PD2
#define Q4 PD3

void initMotorPins() {
    DDRD |= (1 << Q1) | (1 << Q2) | (1 << Q3) | (1 << Q4);  // Set as output
}

void motorStop() {
    PORTD &= ~((1 << Q1) | (1 << Q2) | (1 << Q3) | (1 << Q4));
}

void motorForward() {
    PORTD |= (1 << Q1) | (1 << Q4);
    PORTD &= ~((1 << Q2) | (1 << Q3));
}

void motorReverse() {
    PORTD |= (1 << Q2) | (1 << Q3);
    PORTD &= ~((1 << Q1) | (1 << Q4));
}

void motorBrake() {
    PORTD |= (1 << Q1) | (1 << Q2);
    PORTD &= ~((1 << Q3) | (1 << Q4));
}

int main() {
    initMotorPins();

    while (1) {
        motorForward();
        _delay_ms(2000);

        motorStop();
        _delay_ms(1000);

        motorReverse();
        _delay_ms(2000);

        motorBrake();
        _delay_ms(1000);
    }
}
```

---

## 🧪 Optional: H-Bridge IC (L293D / L298N)

If you're using a motor driver IC:

* Just connect `IN1`, `IN2` pins to GPIOs
* Control motor like:

```c
// Forward
PORTB |= (1 << PB0);
PORTB &= ~(1 << PB1);
```

---
