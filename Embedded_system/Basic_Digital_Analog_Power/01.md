To design a voltage divider that converts **12V down to 3.3V**, we'll use the **voltage divider formula**:

$$
V_{out} = V_{in} \times \frac{R_2}{R_1 + R_2}
$$

Where:

* $V_{in} = 12V$
* $V_{out} = 3.3V$
* $R_1$ is connected between 12V and the output
* $R_2$ is connected between output and GND

---

### 🧮 Step 1: Rearranging the formula

$$
\frac{R_2}{R_1 + R_2} = \frac{3.3}{12} = 0.275
$$

Let’s choose $R_2 = 10k\Omega$. Then solve for $R_1$:

$$
\frac{10k}{R_1 + 10k} = 0.275 \Rightarrow R_1 = \left(\frac{10k}{0.275}\right) - 10k = 26.36k\Omega
$$

Round $R_1$ to the nearest standard resistor: **27kΩ**

---

### 🔍 Step 2: Check the output with standard values

Using:

* $R_1 = 27k\Omega$
* $R_2 = 10k\Omega$

$$
V_{out} = 12 \times \frac{10}{27 + 10} = 12 \times \frac{10}{37} \approx 3.24V
$$

✅ **Safe for a 3.3V ADC input.**

---

### 📉 Step 3: Tolerance Calculation

Standard resistors often have **±5% tolerance**. Let's compute worst-case voltages:

#### Worst-case (high R1, low R2):

* $R_1 = 27k\Omega \times 1.05 = 28.35k\Omega$
* $R_2 = 10k\Omega \times 0.95 = 9.5k\Omega$

$$
V_{out(min)} = 12 \times \frac{9.5}{28.35 + 9.5} \approx 3.00V
$$

#### Worst-case (low R1, high R2):

* $R_1 = 27k\Omega \times 0.95 = 25.65k\Omega$
* $R_2 = 10k\Omega \times 1.05 = 10.5k\Omega$

$$
V_{out(max)} = 12 \times \frac{10.5}{25.65 + 10.5} \approx 3.51V
$$

⚠️ **3.51V** may exceed the ADC input max voltage (check your MCU’s absolute max rating — often **3.6V**). If that's too risky:

---

### ✅ Step 4: Add protection

**Use a Zener diode (e.g., 3.3V 0.5W)** across the ADC input to clamp overvoltage.

```text
12V --- R1 (27kΩ) ---+--- ADC pin
                     |
                   R2 (10kΩ)
                     |
                    GND
                     |
                 3.3V Zener Diode (cathode to ADC, anode to GND)
```

This ensures your MCU is protected even if tolerance pushes voltage too high.

---

### 📌 Summary

| Component       | Value            |
| --------------- | ---------------- |
| R1              | 27kΩ             |
| R2              | 10kΩ             |
| Vout            | \~3.24V          |
| Tolerance range | \~3.00V – 3.51V  |
| Protection      | 3.3V Zener diode |
