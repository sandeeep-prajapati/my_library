Great question, Sandeep! In **C (not C++)**, there's no built-in support for **virtual functions or inheritance**, but we can simulate **polymorphism** using **function pointers inside structs**.

---

## ðŸ”§ **Concept: Simulating Virtual Functions in C**

* Use a **base struct** with function pointers.
* **Derived structs** implement their own versions of the functions.
* Call functions through the base pointer (just like virtual calls in C++).

---

## ðŸ’» **Code: Simulate Virtual Functions in C**

```c
#include <stdio.h>
#include <stdlib.h>

// Base "class"
typedef struct Shape {
    void (*draw)(struct Shape* self);
    void (*area)(struct Shape* self);
} Shape;

// "Derived class" - Circle
typedef struct {
    Shape base;
    float radius;
} Circle;

void draw_circle(Shape* self) {
    Circle* c = (Circle*)self;
    printf("Drawing a Circle with radius %.2f\n", c->radius);
}

void area_circle(Shape* self) {
    Circle* c = (Circle*)self;
    float area = 3.14f * c->radius * c->radius;
    printf("Circle Area: %.2f\n", area);
}

Circle* new_circle(float r) {
    Circle* c = (Circle*)malloc(sizeof(Circle));
    c->radius = r;
    c->base.draw = draw_circle;
    c->base.area = area_circle;
    return c;
}

// "Derived class" - Rectangle
typedef struct {
    Shape base;
    float width;
    float height;
} Rectangle;

void draw_rectangle(Shape* self) {
    Rectangle* r = (Rectangle*)self;
    printf("Drawing a Rectangle %.2f x %.2f\n", r->width, r->height);
}

void area_rectangle(Shape* self) {
    Rectangle* r = (Rectangle*)self;
    float area = r->width * r->height;
    printf("Rectangle Area: %.2f\n", area);
}

Rectangle* new_rectangle(float w, float h) {
    Rectangle* r = (Rectangle*)malloc(sizeof(Rectangle));
    r->width = w;
    r->height = h;
    r->base.draw = draw_rectangle;
    r->base.area = area_rectangle;
    return r;
}

// Test
int main() {
    Shape* shapes[2];

    shapes[0] = (Shape*)new_circle(5.0f);
    shapes[1] = (Shape*)new_rectangle(4.0f, 3.0f);

    for (int i = 0; i < 2; i++) {
        shapes[i]->draw(shapes[i]);
        shapes[i]->area(shapes[i]);
    }

    free(shapes[0]);
    free(shapes[1]);

    return 0;
}
```

---

## ðŸ“Œ **Output**

```
Drawing a Circle with radius 5.00
Circle Area: 78.50
Drawing a Rectangle 4.00 x 3.00
Rectangle Area: 12.00
```

---

## ðŸ§  **What's Happening Here**

* `Shape` acts like a **base class** with virtual functions.
* `Circle` and `Rectangle` override `draw()` and `area()`.
* `shapes[i]->draw(...)` behaves like a **virtual method call**.

---

### ðŸ”§ Want to Extend?

* Add a `destroy()` function pointer for custom memory handling.
* Add more derived "classes" like `Triangle`, `Square`.
* Store all shapes in a list and perform actions polymorphically.
