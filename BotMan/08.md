
---

### 🛠️ Step 1: Install Livewire

If you haven't already:

```bash
composer require livewire/livewire
php artisan livewire:publish
```

Include Livewire in your Blade layout:

```blade
<!-- in resources/views/layouts/app.blade.php -->
<head>
    @livewireStyles
</head>
<body>
    @yield('content')
    @livewireScripts
</body>
```

---

### 🧱 Step 2: Create the Livewire Component

```bash
php artisan make:livewire ManageMenu
```

---

### 📁 File: `app/Http/Livewire/ManageMenu.php`

```php
namespace App\Http\Livewire;

use Livewire\Component;
use App\Models\Dish;
use App\Models\Menu;

class ManageMenu extends Component
{
    public $menus;

    public function mount()
    {
        $this->loadMenus();
    }

    public function loadMenus()
    {
        $this->menus = Menu::with('dishes')->get();
    }

    public function toggleAvailability($dishId)
    {
        $dish = Dish::findOrFail($dishId);
        $dish->available = !$dish->available;
        $dish->save();

        $this->loadMenus(); // Refresh
    }

    public function deleteDish($dishId)
    {
        Dish::destroy($dishId);
        $this->loadMenus();
    }

    public function render()
    {
        return view('livewire.manage-menu');
    }
}
```

---

### 📄 File: `resources/views/livewire/manage-menu.blade.php`

```blade
<div class="p-6 space-y-6">
    @foreach($menus as $menu)
        <div class="border rounded-lg shadow p-4">
            <h2 class="text-lg font-bold mb-2">{{ $menu->category_name }}</h2>
            <table class="w-full text-sm text-left">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Price (₹)</th>
                        <th>Available</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach($menu->dishes as $dish)
                        <tr>
                            <td>{{ $dish->name }}</td>
                            <td>{{ $dish->price }}</td>
                            <td>
                                <input type="checkbox" wire:click="toggleAvailability({{ $dish->id }})" {{ $dish->available ? 'checked' : '' }}>
                            </td>
                            <td>
                                <button wire:click="deleteDish({{ $dish->id }})" class="text-red-500 hover:underline">Delete</button>
                            </td>
                        </tr>
                    @endforeach
                </tbody>
            </table>
        </div>
    @endforeach
</div>
```

---

### ✅ Step 3: Use It in a Page

In your route (e.g. `/menu/manage`):

**`routes/web.php`**

```php
Route::view('/menu/manage', 'admin.manage-menu');
```

**`resources/views/admin/manage-menu.blade.php`**

```blade
@extends('layouts.app')

@section('content')
    <h1 class="text-2xl font-bold mb-4">🍽️ Manage Menu</h1>
    @livewire('manage-menu')
@endsection
```

---

### 🎯 Result

* Dish availability toggles instantly without page reload.
* You can delete dishes.
* You can expand this to **edit dish name/price inline**, add new dishes, or filter by menu.
