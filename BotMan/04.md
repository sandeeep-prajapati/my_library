
1. 🍽️ Dish selection (via buttons)
2. 🔢 Quantity (via text input)
3. 📝 Special requests (via text input)
4. ✅ Confirmation message

---

### ✅ Step 1: Create the Conversation File

Run:

```bash
php artisan make:botman:conversation OrderConversation
```

---

### ✅ Step 2: Define the Conversation Logic

Update `OrderConversation.php`:

```php
namespace App\Conversations;

use BotMan\BotMan\Messages\Conversations\Conversation;
use BotMan\BotMan\Messages\Outgoing\Question;
use BotMan\BotMan\Messages\Outgoing\Actions\Button;

class OrderConversation extends Conversation
{
    protected $dish;
    protected $quantity;
    protected $specialRequest;

    public function run()
    {
        $this->askDish();
    }

    public function askDish()
    {
        $question = Question::create("What would you like to order?")
            ->addButtons([
                Button::create('🍕 Pizza')->value('Pizza'),
                Button::create('🍔 Burger')->value('Burger'),
                Button::create('🥗 Salad')->value('Salad'),
            ]);

        $this->ask($question, function ($answer) {
            $this->dish = $answer->getValue();
            $this->askQuantity();
        });
    }

    public function askQuantity()
    {
        $this->ask("How many {$this->dish}(s) would you like?", function ($answer) {
            $this->quantity = $answer->getText();

            if (!is_numeric($this->quantity) || $this->quantity <= 0) {
                $this->say("Please enter a valid number.");
                return $this->repeat();
            }

            $this->askSpecialRequest();
        });
    }

    public function askSpecialRequest()
    {
        $this->ask("Do you have any special requests or instructions?", function ($answer) {
            $this->specialRequest = $answer->getText();
            $this->confirmOrder();
        });
    }

    public function confirmOrder()
    {
        $this->say("✅ Order Summary:");
        $this->say("Dish: {$this->dish}");
        $this->say("Quantity: {$this->quantity}");
        $this->say("Special Request: " . ($this->specialRequest ?: "None"));

        $this->say("🎉 Thank you! Your order has been placed.");
    }
}
```

---

### ✅ Step 3: Trigger the Conversation in `routes/botman.php`

```php
use App\Conversations\OrderConversation;

$botman->hears('Order|Place Order', function ($bot) {
    $bot->startConversation(new OrderConversation());
});
```

---

### ✅ Result

When the user types **"Order"** or **"Place Order"**, the bot will:

* Ask for dish using buttons
* Ask quantity as text
* Ask for any special requests
* Confirm the order with a thank you message

---
