Below is a **practical, real-project style guide** for using **`go vet`**, **`golint`**, and **`staticcheck`** the way professional Go teams use them in CI/CD, large repositories, and daily development.

---

# âœ… **Overview**

| Tool            | Purpose                                                                                   | Type                      |
| --------------- | ----------------------------------------------------------------------------------------- | ------------------------- |
| **go vet**      | Catches suspicious code likely to be bugs (logic issues, misuse of fmt, unreachable code) | Built-in Go analyzer      |
| **golint**      | Checks style issues (naming, comments, formatting)                                        | Deprecated but still used |
| **staticcheck** | Advanced static analysis (best practices, unused code, performance, correctness)          | Modern linting suite      |

---

# ğŸ“ **Example Project Structure**

```
myapp/
â”œâ”€â”€ cmd/
â”‚   â””â”€â”€ api/
â”‚       â””â”€â”€ main.go
â”œâ”€â”€ internal/
â”‚   â”œâ”€â”€ handler/
â”‚   â”œâ”€â”€ service/
â”‚   â””â”€â”€ repo/
â””â”€â”€ go.mod
```

The commands work on individual packages or entire modules.

---

# ğŸ” **1. Using `go vet` in a Real Project**

`go vet` finds **actual bugs**, not style issues.

### âœ”ï¸ Install (already built-in):

No installation needed.

### âœ”ï¸ Example: Run on whole module

```bash
go vet ./...
```

### Sample output:

```
handler/user_handler.go:42: Printf format %d has arg name of wrong type string
```

### âœ”ï¸ Run on a specific package:

```bash
go vet ./internal/service
```

### âœ”ï¸ Common bugs `go vet` catches:

* Incorrect `fmt.Printf` formatting
* Copying mutex values
* Methods with value-receiver vs pointer mismatch
* Unreachable code
* Misuse of `context.CancelFunc`
* Shadowed variables

---

# ğŸ¨ **2. Using `golint`**

âš ï¸ **Note:** `golint` is deprecated, but still widely used in older codebases for style checking.

### âœ”ï¸ Install:

```bash
go install golang.org/x/lint/golint@latest
```

### âœ”ï¸ Run on entire module:

```bash
golint ./...
```

### Sample output:

```
internal/service/user_service.go:5:6: exported type UserService should have comment or be unexported
```

### âœ”ï¸ Run on a single file:

```bash
golint internal/repo/user_repo.go
```

### What `golint` checks:

* Exported functions must have comments
* Naming conventions (CamelCase)
* Package comments
* Dead code patterns
* Stuttering (`user.UserService`)

---

# ğŸ§  **3. Using `staticcheck`**

This is the **most powerful** linting tool in Go.

### âœ”ï¸ Install:

```bash
go install honnef.co/go/tools/cmd/staticcheck@latest
```

### âœ”ï¸ Run on your project:

```bash
staticcheck ./...
```

### Sample output:

```
internal/service/user_service.go:77:2: SA4006: this value is never used
internal/handler/user_handler.go:25: http.Request.Body must be closed (SA2002)
```

### What `staticcheck` catches:

* Dead code
* Goroutine leaks
* Inefficient allocations
* Bugs with maps/slices
* Incorrect error handling
* Missed `context` cancellations
* Missed timeouts
* Unused variables/functions
* Magic constants
* API misuse

---

# ğŸ§© **Example: Real Project Workflow**

Let's say your project has a bug and style issues.

### File: `internal/service/user.go`

```go
func GetUserName(id int) (string, error) {
    user, err := repo.FindByID(id)
    fmt.Printf("User found: %d", user.Name)   // BUG: wrong format verb
    return user.Name, err
}
```

### Run `go vet`:

```bash
go vet ./...
```

Output:

```
Printf format %d has arg user.Name of wrong type string
```

---

### File: `internal/service/order.go`

```go
func process(i int) (j int) {
    j = i + 2
    return i // BUG: returning wrong variable
}
```

### Run `staticcheck`:

```bash
staticcheck ./...
```

Output:

```
SA4001: returning the result of a redundant operation
```

---

### File: `internal/handler/http.go`

```go
type Api struct {}
```

### Run `golint`:

```bash
golint ./...
```

Output:

```
exported type Api should have comment or be unexported
```

---

# ğŸ¯ **4. Combine All Tools in a Makefile**

### **Makefile**

```makefile
.PHONY: vet lint staticcheck fmt test build all

vet:
	go vet ./...

lint:
	golint ./... || true

staticcheck:
	staticcheck ./...

fmt:
	go fmt ./...

test:
	go test ./...

build:
	go build ./cmd/api

all: vet lint staticcheck test build
```

Then run:

```bash
make all
```

---

# ğŸš€ **5. Add These Tools to CI (GitHub Actions)**

### `.github/workflows/lint.yml`

```yaml
name: Go Linting

on: [push, pull_request]

jobs:
  lint:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      - name: Setup Go
        uses: actions/setup-go@v4
        with:
          go-version: '1.22'

      - name: Run vet
        run: go vet ./...

      - name: Install staticcheck
        run: go install honnef.co/go/tools/cmd/staticcheck@latest

      - name: Run staticcheck
        run: staticcheck ./...

      - name: Install golint (optional)
        run: go install golang.org/x/lint/golint@latest

      - name: Run golint
        run: golint ./...
```

---
