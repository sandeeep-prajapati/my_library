Great question, Sandeep! Understanding the difference between **stack** and **heap** memory is **essential** for writing efficient and bug-free C++ code.

---

## ✅ Stack vs Heap in C++

| Feature           | **Stack**                      | **Heap**                                    |
| ----------------- | ------------------------------ | ------------------------------------------- |
| **Memory Region** | Fixed-size memory (LIFO)       | Dynamically allocated memory                |
| **Allocation**    | Automatic (done by compiler)   | Manual (`new`, `malloc`) or smart pointers  |
| **Deallocation**  | Automatic (when scope ends)    | Manual (`delete`, `free`) or smart pointers |
| **Speed**         | Fast                           | Slower (due to manual management)           |
| **Size Limit**    | Usually smaller                | Larger                                      |
| **Use Case**      | Small, short-lived variables   | Large, long-lived objects or dynamic size   |
| **Lifetime**      | Ends when function/block exits | Until manually deleted or program ends      |

---

## 🧪 Example: Stack Allocation

```cpp
#include <iostream>

void stackExample() {
    int x = 10;            // allocated on stack
    int arr[5] = {1, 2, 3, 4, 5}; // also on stack

    std::cout << x << "\n";
}
```

* Memory for `x` and `arr` is allocated on the **stack**.
* When `stackExample()` returns, memory is **automatically freed**.

---

## 🧪 Example: Heap Allocation

```cpp
#include <iostream>

void heapExample() {
    int* ptr = new int(10);       // allocated on heap
    int* arr = new int[5];        // array on heap

    std::cout << *ptr << "\n";

    delete ptr;        // manually free memory
    delete[] arr;      // delete array
}
```

* Memory for `ptr` and `arr` is allocated on the **heap**.
* You must **manually free** the memory using `delete` / `delete[]`.

---

## 🚨 Danger with Heap: Memory Leaks

```cpp
void badExample() {
    int* ptr = new int(100);  // no delete
} // ⚠️ Memory leak! Never deallocated
```

* If you forget `delete`, the memory stays allocated → **leak**.

---

## ✅ Using Smart Pointers (Safe Heap Allocation)

```cpp
#include <memory>

void smartPointerExample() {
    std::unique_ptr<int> ptr = std::make_unique<int>(42);
    std::cout << *ptr << "\n";
} // Memory auto-deleted
```

---

## 📌 Quick Reference

| Feature         | Stack                      | Heap                         |
| --------------- | -------------------------- | ---------------------------- |
| Allocated By    | Compiler                   | Programmer or STL            |
| Lifetime        | Automatic (scope-based)    | Manual or via smart pointers |
| Allocation Time | Fast                       | Slower                       |
| Risk            | Stack overflow (deep rec.) | Memory leaks, fragmentation  |

---

## ✅ Summary

* **Use stack** for small, short-lived variables.
* **Use heap** for dynamic-sized or long-lived data.
* Prefer **smart pointers** to manage heap memory safely.

---
