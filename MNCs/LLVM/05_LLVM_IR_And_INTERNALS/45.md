
---

## âœ… What is `llc`?

**`llc`** stands for **LLVM static compiler**.

* It takes **LLVM IR** (`.ll` or `.bc`) and **compiles it to target-specific assembly code**.
* Part of the **LLVM backend**, which converts platform-independent IR into machine code for your CPU.
* You can use it to inspect **assembly instructions generated from IR**.

---

## ðŸ”¹ Basic Usage

```bash
llc [options] input.bc -o output.s
```

* `input.bc` â†’ LLVM **bitcode** (or `.ll`)
* `output.s` â†’ Assembly code for your target CPU
* `[options]` â†’ Specify target architecture, optimization level, etc.

---

### ðŸ”¹ Common Flags

| Flag                    | Description                                               |
| ----------------------- | --------------------------------------------------------- |
| `-filetype=obj`         | Generate object file instead of assembly (`.o`)           |
| `-march=x86-64`         | Specify target architecture (`x86-64`, `arm`, etc.)       |
| `-O0`, `-O1`, `-O2`     | Optimization level                                        |
| `-relocation-model=pic` | Generate position-independent code (for shared libraries) |

---

## ðŸ”¹ Example Workflow: C â†’ LLVM IR â†’ Assembly

### Step 1: Compile C to LLVM IR

```bash
clang -O0 -emit-llvm -c test.c -o test.bc
```

* Generates **bitcode (`.bc`)** from C source.

### Step 2: Compile LLVM IR to Assembly with `llc`

```bash
llc test.bc -o test.s
```

* Generates **assembly file `test.s`** for your CPU.

**Sample output snippet (`test.s`) for x86-64:**

```asm
_main:                                  # @main
    pushq   %rbp
    movq    %rsp, %rbp
    movl    $0, -4(%rbp)                # sum = 0
    movl    $1, -8(%rbp)                # i = 1
.Lloop:                                  
    cmpl    $5, -8(%rbp)
    jg      .Lend
    addl    -8(%rbp), -4(%rbp)          # sum += i
    addl    $1, -8(%rbp)                 # i++
    jmp     .Lloop
.Lend:
    movl    -4(%rbp), %eax
    popq    %rbp
    ret
```

---

### ðŸ”¹ Step 3: Optional â€“ Generate Object File

```bash
llc -filetype=obj test.bc -o test.o
```

* Produces **`test.o`**, which can be linked into an executable:

```bash
clang test.o -o test
./test
```

---

## ðŸ”¹ Key Points

* `llc` is **backend-focused**: converts IR â†’ target assembly.
* Works with **any LLVM IR**, including **optimized IR**.
* Allows **inspection of generated assembly** for learning or debugging.
* Combined with `opt`, you can see **how passes change IR â†’ assembly**.

---
