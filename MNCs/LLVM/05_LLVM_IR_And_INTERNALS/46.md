
---

## âœ… What are LLVM Intrinsics?

**LLVM intrinsics** are **special functions provided by LLVM** that represent **operations not directly expressible in standard IR**.

* They are **built-in functions** understood by the LLVM compiler.
* Can provide **low-level operations**, **CPU-specific instructions**, or **optimization hints**.
* Often **translated directly into efficient machine instructions** during code generation.
* Denoted in IR as: `llvm.<name>`

---

## ðŸ”¹ Why Use Intrinsics?

1. **Access CPU instructions** that IR doesnâ€™t have by default (e.g., `popcnt`, `sqrt`).
2. **Enable optimizations** that the backend can recognize.
3. **Support platform-specific features** (SIMD, atomic ops).
4. Used internally by **stdlib, compiler optimizations, or custom passes**.

---

## ðŸ”¹ Common Examples of LLVM Intrinsics

| Intrinsic                         | Purpose                                     |
| --------------------------------- | ------------------------------------------- |
| `llvm.memcpy.p0i8.p0i8.i64`       | Memory copy (`memcpy`)                      |
| `llvm.memset.p0i8.i64`            | Memory set (`memset`)                       |
| `llvm.sqrt.f32` / `llvm.sqrt.f64` | Compute square root of float/double         |
| `llvm.sin.f32` / `llvm.sin.f64`   | Compute sine of float/double                |
| `llvm.ctpop.i32`                  | Count set bits (`popcount`)                 |
| `llvm.cttz.i32`                   | Count trailing zeros                        |
| `llvm.bswap.i32`                  | Byte swap (endianness)                      |
| `llvm.fabs.f32`                   | Absolute value of float                     |
| `llvm.expect.i1`                  | Branch prediction hint (`__builtin_expect`) |

---

## ðŸ”¹ Example in LLVM IR

C++ code:

```cpp
#include <cmath>

float squareRoot(float x) {
    return sqrtf(x);
}
```

LLVM IR (simplified):

```llvm
define float @squareRoot(float %x) {
entry:
  %0 = call float @llvm.sqrt.f32(float %x)
  ret float %0
}

declare float @llvm.sqrt.f32(float)
```

* `llvm.sqrt.f32` is an **intrinsic** that the backend can map directly to a CPU instruction.

---

## ðŸ”¹ Key Notes

* Intrinsics **start with `llvm.`** in IR.
* Some intrinsics are **target-independent**, others are **target-specific**.
* Useful in **custom passes**, **optimizations**, or when writing **high-performance code**.
* LLVM may **replace standard function calls** (like `memcpy`) with **intrinsics** for efficiency.

---

